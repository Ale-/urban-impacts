<section class="container-fixed">
    <div class="view-description">
    </div>

    <!-- Count of shown elements -->
    <p class="view-count">
        Mostrando <span class="view-count__n">{{ filtered.length }}</span> proyectos.
        Para ver información detallada pulsa sobre cualquiera de ellos.
    </p>

    <!-- View -->
    <div class="view-location">
        <div class="view-location__header">
            <div class="view-location__header-col--project"
                 ng-click="view.sortBy(view.indicators.project.var)">
                <i class="fa fa-sort-alpha-down"></i>
                <span class="view-location__name">
                    {{ view.indicators.project.label_es }}
                </span>
            </div>
            <div class="view-location__header-col--town"
                 ng-click="view.sortBy(view.indicators.town.var)">
                <i class="fa fa-sort-alpha-down"></i>
                <span class="view-location__name">
                    {{ view.indicators.town.label_es }}
                </span>
            </div>
            <div class="view-location__header-col--program">
                <i class="fa fa-sort-alpha-down"></i>
                <span class="view-location__name" ng-click="view.sortBy(view.indicators.program.var)">
                    {{ view.indicators.program.label_es }}
                </span>
                <select class="view-filter__select" ng-change="view.setProgram(p)" ng-model="p"
                ng-options="(p.k + ' (' + p.n + ')') for p in view.program">
                    <option value=""><i class="fa fa-filter"></i>
                        Ver todo  ▼
                    </option>
                </select>
            </div>
            <div class="view-location__header-col--hood">
                <i class="fa fa-sort-alpha-down"></i>
                <span class="view-location__name" ng-click="view.sortBy(view.indicators.hood.var)">
                    {{ view.indicators.hood.label_es }}
                </span>
                <select class="view-filter__select" ng-change="view.setHood(c)" ng-model="c"
                        ng-options="(c.k + ' (' + c.n + ')') for c in view.hood">
                    <option value=""><i class="fa fa-filter"></i>
                        Ver todo  ▼
                    </option>
                </select>
            </div>
        </div>
        <div class="view-location__content">
            <a href="#/{{ item[ view.indicators.id.var ] }}" class="view-location-item"
               ng-repeat="item in view.data | orderBy : view.sort_order: view.reverse | filter : view.show as filtered">
                <div class="view-location-item__col--project">
                  {{ item[ view.indicators.project.var ] }}
                </div>
                <div class="view-location-item__col--town">
                  {{ item[ view.indicators.town.var ] }}
                </div>
                <div class="view-location-item__col--program">
                  {{ view.program[ item[ view.indicators.program.var ]].k }}
                </div>
                <div class="view-location-item__col--neighborhood">
                  {{ view.hood[ item[ view.indicators.hood.var ]].k }}
                </div>
                <i>➜</i>
            </a>
        </div>
    </div>
    <div class="view-colophon">
    </div>
</section>
